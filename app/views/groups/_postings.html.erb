<% @group = Group.find(posting.group_id) if @group.nil? %>
<% @limit = limit if @limit.nil? %>

<% 
   if ( current_user.member?( @group.id ) )
     @postings = @group.postings.order('created_at DESC').limit(@limit)
   else
     @postings = @group.postings.where(:visibility => 1).order('created_at DESC')
   end 
%>

<% if ( !@postings.nil? && !@postings.empty? ) %>
<p>
<% if ( !current_user.member?( @group.id ) && @group.access == Group::PRIVATE ) %> 
<i>Note: It is a private group, so you can only see the public posts.</i>
<% end %>
<%= render 'shared/container', :container => @postings %>
<%= link_to "see all posts", @group %>
</p>
<% end %>