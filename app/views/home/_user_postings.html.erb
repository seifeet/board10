<% return nil if current_user.nil? %>
<%
if @postings.nil?

if params[:act] == 'post_search'
  @postings = Posting.search(params[:search], params[:date])
elsif params[:act] == 'invite'
  @board = Board.find_board(params[:board]) if @board.nil?
  @postings = User.search(params[:search])
end

if !@postings.nil? && !@postings.empty?
  @postings = @postings.paginate(:page => params[:page], :per_page => per_page ).order('created_at DESC')
end

end
%>

<% if !@messages.nil? %>
<%= render 'home/messages' %>
<% else %>
<%= render 'shared/containers/page_container', :page_container => @postings %>
<% end %>
